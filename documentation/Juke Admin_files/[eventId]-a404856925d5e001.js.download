(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[261],{24242:function(t,n,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/events/[eventId]",function(){return e(76398)}])},76398:function(t,n,e){"use strict";e.r(n);var i=e(54011),r=e(14134),s=e(33510),a=e(9551),o=e(89663),c=e(77423),d=e(66586),u=e(44922),v=e(3335),p=e(15281),h=e.n(p),l=e(97458),f=e(94796),g=e(78828),E=e(66220),m=e(78778),w=e(46623),x=function(t){(0,c.Z)(e,t);var n=(0,v.Z)(e);function e(t){var a;return(0,s.Z)(this,e),(a=n.call(this,t)).loadEvent=function(t){var n=a.props.onErrorCatch;a.setState({isUpdating:!0});var e=(0,i.Z)(a);E.vo.getEventById({id:t,signal:a.signal}).then((function(n){a.setState({eventId:t,isLoading:!1,event:n,isUpdating:!1})})).catch(function(){var t=(0,r.Z)(h().mark((function t(i){return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n(i);case 2:e.setState({isLoading:!1,isUpdating:!1});case 3:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}())},a.handleSubmit=function(t){var n=a.props,e=n.onToast,s=n.onErrorCatch,o=a.state.eventId;a.setState({isUpdating:!0});var c=(0,i.Z)(a);E.vo.updateEventById({id:o,request:t,signal:a.signal}).then((function(t){e({message:"Event is updated"}),a.setState({isUpdating:!1,event:t})})).catch(function(){var t=(0,r.Z)(h().mark((function t(n){return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s(n);case 2:c.setState({isUpdating:!1});case 3:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}())},a.onReload=function(){var t=a.state.eventId;a.loadEvent(t)},a.state=(0,u.Z)((0,d.Z)({},f.uG),{event:void 0,eventId:void 0}),a}var p=e.prototype;return p.componentDidMount=function(){(0,a.Z)((0,o.Z)(e.prototype),"componentDidMount",this).call(this);var t=this.props.router.query.eventId;t&&this.loadEvent(t)},p.componentDidUpdate=function(){var t=this.props.router.query.eventId,n=this.state,e=n.isLoading,i=n.isUpdating;t&&e&&!i&&this.loadEvent(t)},p.render=function(){var t=this.props,n=t.currentUser,e=t.onToast,i=t.onErrorCatch,r=this.state,s=r.event,a=r.isLoading,o=r.isUpdating,c=(null===s||void 0===s?void 0:s.eventId)?"#".concat(s.eventId):"";return(0,l.jsxs)(g.ly,{isLoading:a,children:[(0,l.jsx)(w.pV,{title:"Edit Event ".concat(c)}),s?(0,l.jsx)("div",{className:"row",children:(0,l.jsx)("div",{className:"col-sm-12",children:(0,l.jsx)(w.$M,{event:s,onSubmit:this.handleSubmit,isUpdating:o,currentUser:n,onReload:this.onReload,onToast:e,onErrorCatch:i})})}):(0,l.jsx)("div",{className:"row",children:(0,l.jsx)("div",{className:"col",children:(0,l.jsx)(g.g5,{message:"Event not found"})})})]})},e}(g.H6);n.default=(0,m.withRouter)(x)}},function(t){t.O(0,[9774,2888,179],(function(){return n=24242,t(t.s=n);var n}));var n=t.O();_N_E=n}]);