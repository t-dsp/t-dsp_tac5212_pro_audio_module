(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5405],{53123:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(27828)}])},27828:function(t,e,n){"use strict";n.r(e);var o=n(14134),s=n(33510),a=n(9551),i=n(89663),r=n(77423),c=n(66586),u=n(44922),l=n(3335),d=n(15281),h=n.n(d),m=n(97458),f=n(94796),p=n(78828),v=n(64533),T=n(66220),g=n(78778),w=n(46623),C=n(65412),L=function(t){(0,r.Z)(n,t);var e=(0,l.Z)(n);function n(t){var o;return(0,s.Z)(this,n),(o=e.call(this,t)).getTableHeaders=function(){return["Date Started","Date Finished","Total Time","Type","Automations Run","Actions Executed","Events Affected"]},o.getTableRows=function(){return o.state.automationLogs.map((function(t){var e=t.id,n=t.dateStarted,o=t.dateFinished,s=t.automationsRun,a=t.actionsExecuted,i=t.eventsAffected,r=t.type,c=v.Cv.calculateDifferenceBetweenTwoDates(n,o),u=c.days,l=c.hours,d=c.minutes,h=c.seconds,m=c.milliseconds,f=[];return u>0&&f.push("".concat(u," days")),l>0&&f.push("".concat(l," hours")),d>0&&f.push("".concat(d," minutes")),h>0&&f.push("".concat(h," seconds")),m>0&&f.push("".concat(m," milliseconds")),{id:e,columns:["".concat(v.Cv.formatLongDate(v.Cv.formatUtcToLocalTimezone(n))," - ").concat(v.Cv.formatTimeOverTwelveHours(v.Cv.formatUtcToLocalTimezone(n))),"".concat(v.Cv.formatLongDate(v.Cv.formatUtcToLocalTimezone(o))," - ").concat(v.Cv.formatTimeOverTwelveHours(v.Cv.formatUtcToLocalTimezone(o))),f.join(", "),C.iZ[r],s,a,i]}}))},o.state=(0,u.Z)((0,c.Z)({},f.uG),{automationLogs:[]}),o}var d=n.prototype;return d.componentDidMount=function(){var t=this;(0,a.Z)((0,i.Z)(n.prototype),"componentDidMount",this).call(this);var e=this.props.onErrorCatch,s=this;T.cF.getAutomationHistory({signal:this.signal}).then((function(e){t.setState({automationLogs:v.sm.getResultsFromResponse(e),isLoading:!1})})).catch(function(){var t=(0,o.Z)(h().mark((function t(n){return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(n);case 2:s.setState({isLoading:!1});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},d.render=function(){var t=this.props.currentUser,e=this.state.isLoading;return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(w.pV,{title:"Juke Admin Panel",onClick:null}),(0,m.jsxs)("h2",{children:["Hello ",(0,m.jsx)("strong",{children:t.firstName}),"!"]}),(0,m.jsx)("div",{id:"automation-history-container",children:(0,m.jsx)(p.tQ,{title:"Automation History",headers:this.getTableHeaders(),rows:this.getTableRows(),isUpdating:e})})]})},n}(p.H6);e.default=(0,g.withRouter)(L)}},function(t){t.O(0,[9774,2888,179],(function(){return e=53123,t(t.s=e);var e}));var e=t.O();_N_E=e}]);