(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8966],{1104:function(t,n,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/contacts/[userId]",function(){return e(99957)}])},99957:function(t,n,e){"use strict";e.r(n);var r=e(54011),s=e(14134),a=e(33510),i=e(9551),o=e(89663),u=e(77423),c=e(66586),d=e(44922),h=e(3335),p=e(15281),l=e.n(p),f=e(97458),v=e(94796),g=e(78828),m=e(66220),x=e(78778),U=e(80515),Z=e(63855),w=e(46623),_=function(t){(0,u.Z)(e,t);var n=(0,h.Z)(e);function e(t){var i;return(0,a.Z)(this,e),(i=n.call(this,t)).loadUser=function(t){var n=i.props.onErrorCatch,e=(0,r.Z)(i);m.Wj.getUserById({id:t,signal:i.signal}).then((function(n){i.setState({isLoading:!1,user:n,userId:t})})).catch(function(){var t=(0,s.Z)(l().mark((function t(r){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n(r);case 2:e.setState({isLoading:!1});case 3:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}())},i.handleSubmit=function(t){var n=i.props,e=n.onToast,a=n.onErrorCatch,o=i.state.userId;i.setState({isUpdating:!0});var u=(0,r.Z)(i);m.Wj.updateUserById({id:o,request:t,signal:i.signal}).then((function(t){e({message:"Successfully updated contact"}),i.setState({isUpdating:!1,user:t})})).catch(function(){var t=(0,s.Z)(l().mark((function t(n){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a(n);case 2:u.setState({isUpdating:!1});case 3:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}())},i.handleRefresh=function(){var t=i.state.user;i.loadUser(t.id)},i.state=(0,d.Z)((0,c.Z)({},v.uG),{user:void 0,userId:void 0}),i}var p=e.prototype;return p.componentDidMount=function(){(0,i.Z)((0,o.Z)(e.prototype),"componentDidMount",this).call(this);var t=this.props.router.query.userId;t&&this.loadUser(t)},p.componentDidUpdate=function(){var t=this.props.router.query.userId,n=this.state.isLoading;t&&n&&this.loadUser(t)},p.render=function(){var t=this.props,n=t.onErrorCatch,e=t.onToast,r=this.state,s=r.user,a=r.isLoading,i=r.isUpdating;return(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)(g.ly,{isLoading:a,children:[(0,f.jsx)(w.pV,{title:"Edit Contact"}),s?(0,f.jsx)(U.Z,{children:(0,f.jsx)(Z.Z,{children:(0,f.jsx)(w.H4,{user:s,onSubmit:this.handleSubmit,isUpdating:i,onRefresh:this.handleRefresh,onErrorCatch:n,onToast:e,isAdmin:!0})})}):(0,f.jsx)("div",{className:"row",children:(0,f.jsx)("div",{className:"col",children:(0,f.jsx)(g.g5,{message:"Unable to load contact"})})})]})})},e}(g.H6);n.default=(0,x.withRouter)(_)}},function(t){t.O(0,[9774,2888,179],(function(){return n=1104,t(t.s=n);var n}));var n=t.O();_N_E=n}]);